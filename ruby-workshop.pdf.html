<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Ruby Workshop</title>
   
   

<style>
html, body { margin: 0; padding: 0; }

body { font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; }

a:link, a:visited { color: black; }

h1 { font-size: 30pt;  }
h2 { font-size: 28pt;  }
h3 { font-size: 25pt;  }
p, li, dt, dd, td, th { font-size: 18pt; }

pre { font-size: 14pt;  }
pre.small { font-size: 11pt; }

pre.code {
        background-color: azure;
        padding: 5px;
      }
     
ul { list-style-type: square; }    
   
.center { text-align: center; }   
     
.slide { page-break-after: always;
         min-height: 100mm;
         padding: 40px;
         
         border: 1px dotted black;
       }


  #currentSlide {
    font-size: 2em;
  }

  .cover h1 {
    font-size: 6em;
  }

  .large {
    font-size: 1.5em;
  }

  .medium {
    font-size: 0.8em;
  }

  .small {
    font-size: 0.7em;
  }

  .snippet {
    background-color: #eee;
    font-size: 1.1em;
  }

  ul li ul li {
    font-size: 0.8em;
  }


/*
for princexml (CSS3 paged media support)
@page { size: A4 landscape }
*/
</style>

</head>
<body>

<div class="presentation">

<div class='slide cover'>
<!-- === begin markdown block ===

      generated by markdown/1.2.0 on Ruby 2.2.2 (2015-04-13) [x86_64-darwin14]
                on 2016-01-23 13:18:55 -0500 with Markdown engine kramdown (1.9.0)
                  using options {}
  -->

<!-- _S9SLIDE_  cover -->

<h1 id="ruby-workshop">Ruby Workshop</h1>

</div>
<div class='slide large'>
<!-- _S9SLIDE_  large -->

<h1 id="outline">Outline</h1>
<ul>
  <li>Intro to Ruby</li>
  <li>Intro to the Web and MVC</li>
  <li>Ruby on Rails</li>
</ul>

</div>
<div class='slide large'>
<!-- _S9SLIDE_  large -->

<h1 id="ruby-philosophy">Ruby Philosophy</h1>
<ul>
  <li>Principle of Least Surprise</li>
  <li>Made to optimize developer happiness</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="installing-ruby">Installing Ruby</h1>
<ul>
  <li>I recommend using <a href="https://rvm.io/" target="_blank">Ruby Version Manager (RVM)</a> to manage multiple Ruby versions. You may end up just using one Ruby version, but this makes it a lot easier.</li>
  <li>I will be using Ruby version <a href="https://www.ruby-lang.org/en/news/2015/04/13/ruby-2-2-2-released/" target="_blank">2.2.2</a>.</li>
  <li>When you have trouble remembering what methods do, use <a href="http://ruby-doc.org/core-2.2.2/" target="_blank">Ruby Docs</a>. They’re very helpful.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="printing-in-ruby">Printing in Ruby</h1>
<ul>
  <li>You can print a value with two different commands <code>print</code> and <code>puts</code>.</li>
  <li><code>print</code> outputs the value and returns nil.</li>
  <li><code>puts</code> ouputs the value with a newline and returns nil.</li>
  <li>I will denote output with <code>#=&gt;</code>.</li>
</ul>

<!-- begin code{:theme=>"blackboard", :line_numbers=>"off"} -->
<div class="code"><pre class="brush: ruby toolbar: false gutter: false">
  puts &#39;hello world&#39;
  #=&gt; &quot;hello world&quot;
</pre></div>
<!-- end code -->

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="running-ruby">Running Ruby</h1>
<ul>
  <li>Use a REPL (Read-Execute-Print-Loop) with the <code>irb</code> command in terminal.</li>
  <li>Execute .rb files with the <code>ruby</code> command: <code>ruby file.rb</code>.</li>
</ul>

</div>
<div class='slide medium'>
<!-- _S9SLIDE_  medium -->

<h1 id="methods">Methods</h1>
<ul>
  <li>Parentheses around arguments can be omitted if unambiguous.</li>
  <li>Methods have implicit returns.</li>
</ul>

<!-- begin code{:theme=>"blackboard", :line_numbers=>"off"} -->
<div class="code"><pre class="brush: ruby toolbar: false gutter: false">
  def hi
    &#39;hello, there&#39;
  end

  def hello(name)
    puts &quot;hello, #{name}&quot;
  end

  puts hi #=&gt; &quot;hello, there&quot;
  hello(&#39;Matz&#39;) #=&gt; &quot;hello, Matz&quot;
  hello &#39;DHH&#39; #=&gt; &quot;hello, DHH&quot;
</pre></div>
<!-- end code -->

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="creating-a-class">Creating a Class</h1>
<ul>
  <li>Just use the <code>class</code> and <code>end</code> keywords.</li>
  <li>A class can be instantiated with the <code>new</code> method.</li>
  <li>It is convention to write class names in PascalCase.</li>
</ul>

<!-- begin code{:theme=>"blackboard", :line_numbers=>"off"} -->
<div class="code"><pre class="brush: ruby toolbar: false gutter: false">
  class Student
  end
  student = Student.new
  p student #=&gt; #&lt;Student:0x007ff7989d44b8&gt;
</pre></div>
<!-- end code -->

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="instance-methods">Instance Methods</h1>
<ul>
  <li>Methods defined in a class are instance methods by default.</li>
</ul>

<!-- begin code{:theme=>"blackboard", :line_numbers=>"off"} -->
<div class="code"><pre class="brush: ruby toolbar: false gutter: false">
  class Student
    def greet
      puts &#39;hi&#39;
    end
  end
  student = Student.new
  student.greet #=&gt; &quot;hi&quot;
</pre></div>
<!-- end code -->

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="constructors">Constructors</h1>
<ul>
  <li>If a method is named <code>initialize</code>, then it will be executed when the class is instantiated.</li>
</ul>

<!-- begin code{:theme=>"blackboard", :line_numbers=>"off"} -->
<div class="code"><pre class="brush: ruby toolbar: false gutter: false">
  class Student
    def initialize
      puts &#39;hi&#39;
    end
  end
  Student.new #=&gt; &quot;hi&quot;
</pre></div>
<!-- end code -->

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="inheritance">Inheritance</h1>
<ul>
  <li>Classes can inherit from another class with the <code>&lt;</code> operator.</li>
  <li>Simply place it after the class declaration and name the class.</li>
  <li>Thus, a class can gain all of its parent class’s methods, both public and private.</li>
</ul>

<!-- begin code{:theme=>"blackboard", :line_numbers=>"off"} -->
<div class="code"><pre class="brush: ruby toolbar: false gutter: false">
  class Bird
  end
  class Penguin &lt; Bird
  end
  p Penguin.superclass #=&gt; &quot;Bird&quot;
</pre></div>
<!-- end code -->

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="installing-gems">Installing Gems</h1>
<ul>
  <li>Ruby libraries are called gems.</li>
  <li>The command to install them is <code>gem install gem_name</code>.</li>
  <li>When installed, the gem is installed in the current Ruby version’s gem directory.</li>
  <li>To use a gem, pass the name of the gem as a string to the <code>require</code> method at the top of the file (e.g. <code>require 'pry'</code>).</li>
</ul>

</div>
<div class='slide cover'>
<!-- _S9SLIDE_  cover -->

<h1 id="the-web">The Web</h1>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="http">HTTP</h1>
<ul>
  <li>Stands for Hypertext Transfer Protocol.</li>
  <li>A <em>client</em> (e.g. web browser, phone, computer, etc.) sends a <em>request</em> to a <em>server</em>.</li>
  <li>The <em>server</em> receives this <em>request</em> and sends back a <em>response</em>.</li>
  <li>This <em>response</em> is usually a web page (i.e. HTML with accompanying files) or data, usually in XML or JSON.
<img src="http://www.seas.upenn.edu/~cis196/public/img/client-server.png" alt="" /></li>
</ul>
<p class="small">Bothwell Douglas J. <i>client-server.png</i>. 2015. https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_and_retrieving_form_data</p>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="http-verbs">HTTP Verbs</h1>
<ul>
  <li>The five most common types of HTTP requests are:
    <ul>
      <li>GET</li>
      <li>POST</li>
      <li>PUT/PATCH</li>
      <li>DELETE</li>
    </ul>
  </li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="get-request">GET Request</h1>
<ul>
  <li>This is usually the default type of request sent.
    <ul>
      <li>When you enter a URL or click a link, a GET request is sent for the web page.</li>
      <li>When a web page updates, it probably sent a GET request behind the scenes to get the new data.</li>
    </ul>
  </li>
  <li>It should only be used to <em>get</em> something.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="post-request">POST Request</h1>
<ul>
  <li>This should be used to <em>send</em> data from the client to the server.</li>
  <li>While you can technically use GET requests to send data as well, you should absolutely use POST requests if you’re sending data.
    <ul>
      <li>It’s much more robust and secure.</li>
    </ul>
  </li>
  <li>This is the default type of request sent when submitting a form (e.g. log in).</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="putpatch-request">PUT/PATCH Request</h1>
<ul>
  <li>This should be used to <em>update</em> something on the server.</li>
  <li>Technically, you can use a POST request to update as well, but it is convention to use a PUT or PATCH request.</li>
  <li>The main difference between a PUT request and a PATCH request is that a PUT request is used to update an entire record while a PATCH request is only used to update part of it.</li>
  <li>In this course, we will use PUT.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="delete-request">DELETE Request</h1>
<ul>
  <li>This should be used to <em>delete</em> something on the server.</li>
  <li>Technically, you can use a POST request to delete as well, but it is convention to use a DELETE request.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="mvc">MVC</h1>
<ul>
  <li>Stands for Model-View-Controller.</li>
  <li>Every community has different definitions and conventions for MVC, so ignore the conventions of other communities when writing Ruby.</li>
  <li>Convention over configuration.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="view">View</h1>
<ul>
  <li>The view is the layer of the application that the user will see.</li>
  <li>It is typically comprised of .html.erb files.</li>
  <li>It should have minimal logic in it.</li>
  <li>It can access instance variables defined in the controller.</li>
  <li>The corresponding view files should be in a subdirectory of <code>views</code> named for the plural form of the corresponding model.</li>
</ul>

</div>
<div class='slide large'>
<!-- _S9SLIDE_  large -->

<p class="center"><img src="http://www.seas.upenn.edu/~cis196/public/img/mvc.png" alt="" /></p>
<p class="small">Riaz, Zaman. <i>mvc.png</i>. 2014. http://code.tutsplus.com/tutorials/from-beginner-to-advanced-in-opencart-understanding-mvc--cms-21627</p>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="controller">Controller</h1>
<ul>
  <li>The controller is the layer of the application that handles HTTP requests.</li>
  <li>It should pass off as much logic to the model as possible.</li>
  <li>It can define instance variables for the view to use.</li>
  <li>This layer of the application should be the most static out of the three.</li>
  <li>The naming convention is the plural form of the corresponding model with <code>Controller</code> (e.g. <code>UsersController</code>).</li>
</ul>

</div>
<div class='slide large'>
<!-- _S9SLIDE_  large -->

<p class="center"><img src="http://www.seas.upenn.edu/~cis196/public/img/mvc.png" alt="" /></p>
<p class="small">Riaz, Zaman. <i>mvc.png</i>. 2014. http://code.tutsplus.com/tutorials/from-beginner-to-advanced-in-opencart-understanding-mvc--cms-21627</p>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="model">Model</h1>
<ul>
  <li>The model is the layer of the application with the crux of the logic.</li>
  <li>It should be the main place where the database is accessed.</li>
  <li>The classes you wrote in homeworks 2 and 3 would be in the model layer.</li>
  <li>The naming convention is the singular form of the name.</li>
</ul>

</div>
<div class='slide large'>
<!-- _S9SLIDE_  large -->

<p class="center"><img src="http://www.seas.upenn.edu/~cis196/public/img/mvc.png" alt="" /></p>
<p class="small">Riaz, Zaman. <i>mvc.png</i>. 2014. http://code.tutsplus.com/tutorials/from-beginner-to-advanced-in-opencart-understanding-mvc--cms-21627</p>

</div>
<div class='slide small'>
<!-- _S9SLIDE_  small -->

<h1 id="rest">REST</h1>
<ul>
  <li>Stands for Representational State Transfer (a set of conventions to expose certain HTTP endpoints).</li>
  <li>It is convenient for Create, Read, Update, Delete (CRUD) apps.</li>
  <li>The below example is for a model representing movies.</li>
</ul>
<table border="1" cellpadding="5" class="small">
  <tr>
    <th>Path</th>
    <th>Verb</th>
    <th>Usage</th>
  </tr>
  <tr>
    <td>/movies</td>
    <td>GET</td>
    <td>Show list of movies</td>
  </tr>
  <tr>
    <td>/movies/new</td>
    <td>GET</td>
    <td>Show form to create new movie</td>
  </tr>
  <tr>
    <td>/movies</td>
    <td>POST</td>
    <td>Create a new movie</td>
  </tr>
  <tr>
    <td>/movies/:id</td>
    <td>GET</td>
    <td>Show a specific movie</td>
  </tr>
  <tr>
    <td>/movies/:id/edit</td>
    <td>GET</td>
    <td>Show form to update a movie</td>
  </tr>
  <tr>
    <td>/movies/:id</td>
    <td>PUT/PATCH</td>
    <td>Update a movie</td>
  </tr>
  <tr>
    <td>/movies/:id</td>
    <td>DELETE</td>
    <td>Delete a movie</td>
  </tr>
</table>

</div>
<div class='slide cover'>
<!-- _S9SLIDE_  cover -->

<h1 id="ruby-on-rails">Ruby on Rails</h1>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="about-ruby-on-rails">About Ruby on Rails</h1>
<ul>
  <li>Also called RoR or most commonly Rails.</li>
  <li>It is a web framework, similar to Sinatra, but it has far more features and opinions.</li>
  <li>We will use version 4.2.5.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="making-a-rails-app">Making a Rails App</h1>
<ul>
  <li>After you <code>gem install rails</code>, run <code>rails new app_name</code>.</li>
  <li>Rails will then create a directory of your Rails app with all the basic directories and files.</li>
  <li>It will also <code>bundle install</code> all the default gems.</li>
  <li>Check out the <a href="http://guides.rubyonrails.org/index.html" target="_blank">Rails documentation</a>.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="rails-commands">Rails Commands</h1>
<ul>
  <li><code>rails server</code> (or <code>rails s</code>) will start the Rails app.
    <ul>
      <li>By default, the server uses WEBrick. To use other servers, put the server’s gem in the Gemfile (Heroku recommends using <code>puma</code>).</li>
    </ul>
  </li>
  <li><code>rails console</code> (or <code>rails c</code>) will start the Rails console.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="rails-generate">Rails Generate</h1>
<ul>
  <li><code>rails generate</code> (or <code>rails g</code>) will generate various files for you.</li>
  <li>There are several different kinds of generators.</li>
  <li>The most useful ones (for me at least) are <code>migration</code>, <code>model</code>, and <code>controller</code>.</li>
  <li><code>rails g scaffold</code> helped make Rails famous. It generates tests, controllers, views, routes, models, and migrations.
    <ul>
      <li>The generated code is too vanilla for actual use though.</li>
    </ul>
  </li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="rails-generate-syntax">Rails Generate Syntax</h1>
<ul>
  <li><code>rails g generator_name model_name</code>.</li>
  <li>For <code>migration</code>, <code>model</code>, and <code>scaffold</code>, you can also specify attributes, which would be the column titles.
    <ul>
      <li><code>rails g generator_name model_name column1:type column2:type</code>.</li>
    </ul>
  </li>
  <li>For example, <code>rails g migration Item name:string price:float</code>.</li>
  <li>For foreign keys, use the <code>references</code> type.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="controller-1">Controller</h1>
<ul>
  <li>Each route is defined as methods according to its corresponding RESTful route.</li>
  <li>By default, it will render the corresponding view file, but you can render whatever view with the <code>render</code> method (e.g. <code>render :show</code> will render the model’s <code>show.html.erb</code> page).</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="routes">Routes</h1>
<ul>
  <li>The routes are managed in the <code>config/routes.rb</code> file.</li>
  <li><code>resources :pluralized_model_name</code> generates all seven RESTful routes.</li>
  <li>To define custom routes, use the syntax <code>http_verb 'route' =&gt; 'model_name#method'</code>.
    <ul>
      <li>So for example, <code>get 'users/hello' =&gt; 'user#hello'</code> would connect the <code>hello</code> method in <code>UsersController</code> to a GET request to <code>users/hello</code>.</li>
    </ul>
  </li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="rails-directory">Rails Directory</h1>
<ul>
  <li>Notice that most of this directory structure should be familiar to you.</li>
  <li>The main directories not introduced to you yet are: <code>lib</code>, <code>log</code>, <code>test</code>, <code>tmp</code>, and <code>vendor</code>.</li>
  <li><code>test</code> contains test files, <code>log</code> contains error logs, and <code>tmp</code> contains temporary files.</li>
  <li><code>app/helpers</code> contains modules.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="asset-pipeline">Asset Pipeline</h1>
<ul>
  <li>Introduced in <a href="https://www.youtube.com/watch?v=cGdCI2HhfAU" target="_blank">Rails 2011</a>.</li>
  <li>It is a way to load resources (i.e. images, javascripts, and stylesheets).</li>
  <li>It is comprised of the <code>app/assets</code>, <code>lib</code>, and <code>vendor</code> directories.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="what-should-go-where">What Should Go Where</h1>
<ul>
  <li>The custom code you write specific to your application should go in <code>app/assets</code>.</li>
  <li>The custom code you write not specific to your application should go in <code>lib</code> (It’s pretty rare to use this).</li>
  <li>3rd party libraries should go in <code>vendor</code>.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="sprockets">Sprockets</h1>
<ul>
  <li>Sprockets is an asset packaging system.</li>
  <li>The stylesheet one can be found at <code>app/assets/stylesheets/application.css</code>.</li>
  <li>The javascript one can be found at <code>app/assets/javascripts/application.js</code>.</li>
  <li>They are both loaded in the head tag.</li>
  <li>Notice how javascript files are loaded with <code>&lt;%= javascript_include_tag %&gt;</code> and stylesheet files are loaded with <code>&lt;%= stylesheet_link_tag %&gt;</code>.</li>
</ul>

</div>
<div class='slide '>
<!-- _S9SLIDE_  -->

<h1 id="sprocket-application-files">Sprocket Application Files</h1>
<ul>
  <li>To require a file, append an <code>=</code> to the beginning of the commenting delimiter (e.g. <code>//=</code> for javascript).</li>
  <li><code>require_tree .</code> requires all files in the directory.
    <ul>
      <li>I try not to use this because it loads the files in alphabetical order, and the order usually matters for me.</li>
    </ul>
  </li>
  <li>Never write any javascript/css code directly in the application files (<code>require_self</code> will let you do this).</li>
</ul>

<!-- === end markdown block === -->
</div>


  </div> <!-- presentation -->
</body>
</html> 

